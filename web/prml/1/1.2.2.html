<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>1.2.2 期待値と分散</title>
    <script type="text/javascript" src="../../js/mymathjax.js" ></script>
</head>
<body>
$$
\newcommand{\det}{\mathrm{det}}
\\
\newcommand{\tri}{\mathrm{tri}}
\\
\newcommand{\A}{\m{A}}
\\
\newcommand{\B}{\m{B}}
\\
\newcommand{\X}{\m{X}}
\\
\newcommand{\Y}{\m{Y}}
\\
\newcommand{\x}{\m{x}}
\\
\newcommand{\y}{\m{y}}
\\
\newcommand{\b}{\m{b}}
\\
\newcommand{\w}{\m{w}}
$$
<h1>1.2.2 期待値と分散</h1>

関数$f$の離散確率分布$p$のもとでの期待値
$$
\E[f] \sum_x p(x) f(x)
\tag{1.33}
$$

関数$f$の確率密度関数$p$のもとでの期待値
$$
\E[f] = \int p(x)f(x) dx
\tag{1.34}
$$

確率分布や確率密度から得た有限個(N)のサンプリングを使った近似
$$
\E[f] \simeq \frac{1}{N} \sum_{n=1}^N f(x_n)
\tag{1.35}
$$

$f$の分散の定義
$$
\mathrm{var}[f] = \E[ ( f(x) - \E[f(x)] )^2  ]
\tag{1.38}
$$

<hr/>
分散は二乗の平均から平均の二乗を引いたものに等しい。
$$
\mathrm{var}[f] = \E[f(x)^2] - \E[f(x)]^2
\tag{1.40}
$$
<b>証明</b>
$$
\mathrm{var}[f] = \E[ ( f(x) - \E[f(x)] )^2  ]
$$
$\E[\cdot]$の中の二乗を展開して
$$
=\E[ f(x)^2 - 2 f(x) \E[f(x)] + \E[f(x)]^2  ]
$$
項ごとに平均して
$$
=\E[f(x)^2] - 2 \E[f(x) \E[f(x)]] + \E[ \E[f(x)]^2 ]
$$
$\E[\cdot]$ 内の定数を外に出して
$$
=\E[ f(x)^2] - 2 \E[f(x)] \E[f(x)] + \E[f(x)]^2 
$$
整理すると
$$
= \E[f(x)^2] - \E[f(x)]^2
$$
<hr/>

2つの確率変数$x, y$の共分散
$$
\mathrm{cov}[x,y] = \E[ (x - \E[x])(y - \E[y]) ]
\\
= \E[x \ y] - \E[x] \E[y]
\tag{1.41}
$$
<b>証明</b>
$$
\mathrm{cov}[x,y] = \E[ (x - \E[x])(y - \E[y]) ]
$$

$\E[\cdot]$の中のかけ算を展開して
$$
= \E[ x y - x \E[y] - \E[x]y + \E[x]\E[y] ]
$$

項ごとに平均して
$$
= \E[ x y] - \E[ x \E[y] ] - \E[ \E[x]y ] + \E[ \E[x]\E[y] ]
$$

$\E[\cdot]$ 内の定数を外に出して
$$
= \E[x y] - \E[x]\E[y] - \E[x]\E[y] + \E[x]\E[y]
$$

整理すると
$$
= \E[x y] - \E[x]\E[y]
$$

</body></html>